<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ü¶Ü Quackie's Pet Park - Calm Hub</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", Roboto, sans-serif; }
    
    body {
      background: linear-gradient(135deg, #87CEEB 0%, #98D8C8 50%, #B0E0E6 100%);
      min-height: 100vh;
      overflow-x: hidden;
    }

    .header {
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(20px);
      padding: 20px;
      text-align: center;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    }

    .park-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      position: relative;
    }

    /* PARK SCENE */
    .park-bg {
      height: 400px;
      background: linear-gradient(to bottom, #87CEEB 0%, #98D8C8 70%, #90EE90 100%);
      border-radius: 30px;
      position: relative;
      margin-bottom: 30px;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(0,0,0,0.2);
    }

    .grass { 
      position: absolute; bottom: 0; left: 0; right: 0; 
      height: 120px; background: #90EE90; 
      clip-path: polygon(0 50%, 100% 60%, 100% 100%, 0 100%);
    }

    .cloud { 
      position: absolute; background: white; border-radius: 50px; 
      opacity: 0.8; animation: float 20s infinite linear;
    }
    .cloud:nth-child(1) { top: 50px; left: 10%; width: 80px; height: 40px; animation-delay: 0s; }
    .cloud:nth-child(2) { top: 80px; left: 70%; width: 60px; height: 30px; animation-delay: 5s; }
    @keyframes float { 0% { transform: translateX(-100px); } 100% { transform: translateX(1300px); } }

    /* UPGRADED MAIN DUCK */
    .main-duck {
      position: absolute; left: 50%; top: 40%; transform: translateX(-50%) translateY(-50%);
      width: 140px; height: 120px; cursor: pointer; z-index: 10;
      animation: duckBob 4s ease-in-out infinite;
      transition: all 0.3s ease;
    }
    .main-duck:hover { transform: translateX(-50%) translateY(-50%) scale(1.15) rotate(10deg)!important; }
    @keyframes duckBob { 0%, 100% { transform: translateX(-50%) translateY(-50%) rotate(-5deg); } 50% { transform: translateX(-50%) translateY(-50%) rotate(5deg); } }

    /* GROWING PLANTS */
    .plant {
      position: absolute; bottom: 120px; width: 40px; height: 60px;
      background: linear-gradient(to top, #228B22, #32CD32); border-radius: 20px 20px 0 0;
      transform-origin: bottom; animation: growPlant 3s ease-out forwards;
      opacity: 0;
    }
    .plant:nth-child(1) { left: 15%; animation-delay: 1s; }
    .plant:nth-child(2) { left: 35%; animation-delay: 1.5s; }
    .plant:nth-child(3) { left: 65%; animation-delay: 2s; }
    .plant:nth-child(4) { left: 85%; animation-delay: 2.5s; }
    @keyframes growPlant { to { height: 80px; opacity: 1; transform: scale(1.1); } }

    /* DECORATIONS */
    .decor { position: absolute; bottom: 130px; opacity: 0; transition: all 0.5s; }
    .decor.unlocked { opacity: 1; transform: scale(1); animation: popIn 0.5s ease-out; }
    @keyframes popIn { 0% { transform: scale(0); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
    .bench { left: 20%; width: 60px; height: 30px; background: #8B4513; border-radius: 10px; }
    .fountain { left: 75%; width: 40px; height: 40px; background: #4169E1; border-radius: 50%; }

    /* STATS PANEL */
    .stats-grid {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;
      margin: 30px 0;
    }
    .stat-card {
      background: rgba(255,255,255,0.9); backdrop-filter: blur(20px);
      padding: 25px; border-radius: 25px; text-align: center;
      border: 1px solid rgba(255,255,255,0.3); box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      cursor: pointer; transition: all 0.3s;
    }
    .stat-card:hover { transform: translateY(-10px); box-shadow: 0 20px 40px rgba(0,0,0,0.2); }

    .stat-icon { font-size: 40px; margin-bottom: 15px; }
    .stat-number { font-size: 32px; font-weight: bold; color: #FF8C00; }
    .stat-label { color: #666; }

    /* CARE BUTTONS */
    .care-buttons {
      display: flex; gap: 15px; justify-content: center; margin: 30px 0; flex-wrap: wrap;
    }
    .care-btn {
      background: linear-gradient(135deg, #FFD700, #FFA500);
      border: none; padding: 15px 30px; border-radius: 50px;
      font-size: 16px; font-weight: bold; color: #333;
      cursor: pointer; transition: all 0.3s; box-shadow: 0 8px 20px rgba(255,215,0,0.4);
    }
    .care-btn:hover { transform: scale(1.05); box-shadow: 0 12px 30px rgba(255,215,0,0.6); }
    .care-btn:active { transform: scale(0.98); }

    /* SHOP */
    .shop-section { text-align: center; margin: 40px 0; }
    .shop-btn { 
      background: linear-gradient(135deg, #FF69B4, #FF1493); color: white;
      border: none; padding: 20px 40px; border-radius: 50px; font-size: 18px; font-weight: bold;
      cursor: pointer; box-shadow: 0 10px 30px rgba(255,105,180,0.4); transition: all 0.3s;
    }
    .shop-btn:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(255,105,180,0.6); }

    .egg-display {
      position: fixed; top: 20px; right: 20px; background: rgba(255,215,0,0.95);
      padding: 15px 25px; border-radius: 50px; font-weight: bold; font-size: 18px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 100;
    }

    @media (max-width: 768px) {
      .stats-grid { grid-template-columns: repeat(2, 1fr); }
      .care-buttons { flex-direction: column; align-items: center; }
    }
  </style>
</head>
<body>
  <!-- EGG COUNTER -->
  <div class="egg-display">
    ü•ö <span id="goldEggs">12</span> Gold Eggs
  </div>

  <!-- HEADER -->
  <div class="header">
    <h1>ü¶Ü Quackie's Pet Park</h1>
    <p>Your happy companion grows with your mental health journey!</p>
  </div>

  <!-- PARK SCENE -->
  <div class="park-container">
    <div class="park-bg" id="parkBg">
      <!-- CLOUDS -->
      <div class="cloud"></div>
      <div class="cloud"></div>
      
      <!-- GROWING PLANTS -->
      <div class="plant"></div>
      <div class="plant"></div>
      <div class="plant"></div>
      <div class="plant"></div>
      
      <!-- DECORATIONS -->
      <div class="decor bench" id="benchDecor"></div>
      <div class="decor fountain" id="fountainDecor"></div>
      
      <!-- UPGRADED 3-LEVEL DUCK -->
      <div class="main-duck" id="mainDuck" onclick="petInteraction()">
        <svg id="duckSVG" viewBox="0 0 120 100" class="duck">
          <!-- BABY DUCK (Level 1-3) - DEFAULT -->
          <circle cx="60" cy="25" r="22" fill="#FFD700" stroke="#FF8C00" stroke-width="3" stroke-linejoin="round"/>
          <circle cx="48" cy="20" r="5" fill="#FFA500"/>
          <circle cx="72" cy="20" r="5" fill="#FFA500"/>
          <circle cx="50" cy="22" r="2.5" fill="white"/>
          <circle cx="74" cy="22" r="2.5" fill="white"/>
          <circle cx="51" cy="23" r="1" fill="#000"/>
          <circle cx="75" cy="23" r="1" fill="#000"/>
          <path d="M55 32 L65 32 L70 38 L60 42 L50 38 Z" fill="#FFA500" stroke="#FF8C00" stroke-width="2"/>
          <ellipse cx="60" cy="55" rx="28" ry="20" fill="#FFEB99" stroke="#FF8C00" stroke-width="3"/>
          <ellipse cx="45" cy="50" rx="12" ry="8" fill="#FFD700" stroke="#FF8C00" stroke-width="2"/>
          <ellipse cx="75" cy="50" rx="12" ry="8" fill="#FFD700" stroke="#FF8C00" stroke-width="2"/>
          <ellipse cx="52" cy="75" rx="8" ry="4" fill="#FFA500"/>
          <ellipse cx="68" cy="75" rx="8" ry="4" fill="#FFA500"/>
          <circle cx="42" cy="28" r="4" fill="#FFB6C1" opacity="0.7"/>
          <circle cx="78" cy="28" r="4" fill="#FFB6C1" opacity="0.7"/>
        </svg>
      </div>
    </div>

    <!-- STATS -->
    <div class="stats-grid">
      <div class="stat-card" onclick="feedPet()">
        <div class="stat-icon">üç≤</div>
        <div class="stat-number" id="happiness">85</div>
        <div class="stat-label">Happiness</div>
      </div>
      <div class="stat-card" onclick="playWithPet()">
        <div class="stat-icon">‚ö°</div>
        <div class="stat-number" id="level">3</div>
        <div class="stat-label">Level</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üå±</div>
        <div class="stat-number" id="plants">4</div>
        <div class="stat-label">Park Plants</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üèÜ</div>
        <div class="stat-number" id="streak">7</div>
        <div class="stat-label">Care Streak</div>
      </div>
    </div>

    <!-- CARE BUTTONS -->
    <div class="care-buttons">
      <button class="care-btn" onclick="feedPet()">üç≤ Feed Quackie (+10 Happiness)</button>
      <button class="care-btn" onclick="playWithPet()">‚ö° Play Time (+3 Eggs, +1 EXP)</button>
      <button class="care-btn" onclick="cleanPark()">üßπ Clean Park (+2 Plants)</button>
    </div>

    <!-- SHOP -->
    <div class="shop-section">
      <button class="shop-btn" onclick="openShop()">üõí Visit Gold Egg Shop (<span id="shopEggs">12</span> Eggs)</button>
      <p style="margin-top: 10px; color: #666;">Earn eggs by completing daily journal, breathing, & mood check-ins!</p>
    </div>
  </div>

  <script>
    let petData = JSON.parse(localStorage.getItem('quabbleDuck')) || {
      level: 3, happiness: 85, goldEggs: 12, plants: 4, streak: 7,
      decor: { bench: false, fountain: false }
    };

    // DUCK SVGs FOR DIFFERENT LEVELS
    const babyDuckSVG = `
      <circle cx="60" cy="25" r="22" fill="#FFD700" stroke="#FF8C00" stroke-width="3" stroke-linejoin="round"/>
      <circle cx="48" cy="20" r="5" fill="#FFA500"/><circle cx="72" cy="20" r="5" fill="#FFA500"/>
      <circle cx="50" cy="22" r="2.5" fill="white"/><circle cx="74" cy="22" r="2.5" fill="white"/>
      <circle cx="51" cy="23" r="1" fill="#000"/><circle cx="75" cy="23" r="1" fill="#000"/>
      <path d="M55 32 L65 32 L70 38 L60 42 L50 38 Z" fill="#FFA500" stroke="#FF8C00" stroke-width="2"/>
      <ellipse cx="60" cy="55" rx="28" ry="20" fill="#FFEB99" stroke="#FF8C00" stroke-width="3"/>
      <ellipse cx="45" cy="50" rx="12" ry="8" fill="#FFD700" stroke="#FF8C00" stroke-width="2"/>
      <ellipse cx="75" cy="50" rx="12" ry="8" fill="#FFD700" stroke="#FF8C00" stroke-width="2"/>
      <ellipse cx="52" cy="75" rx="8" ry="4" fill="#FFA500"/><ellipse cx="68" cy="75" rx="8" ry="4" fill="#FFA500"/>
      <circle cx="42" cy="28" r="4" fill="#FFB6C1" opacity="0.7"/><circle cx="78" cy="28" r="4" fill="#FFB6C1" opacity="0.7"/>
    `;

    const teenDuckSVG = babyDuckSVG + `
      <path d="M40 12 L50 5 L60 12 L70 5 L80 12 L75 2 L65 8 L55 2 L45 8 Z" fill="#FFD700" stroke="#FF4500" stroke-width="2"/>
    `;

    const kingDuckSVG = babyDuckSVG + `
      <defs><linearGradient id="rainbow" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" stop-color="#FF0000"/><stop offset="20%" stop-color="#FF8C00"/>
        <stop offset="40%" stop-color="#FFD700"/><stop offset="60%" stop-color="#00FF00"/>
        <stop offset="80%" stop-color="#4169E1"/><stop offset="100%" stop-color="#FF1493"/>
      </linearGradient></defs>
      <path d="M40 12 L50 5 L60 12 L70 5 L80 12 L75 2 L65 8 L55 2 L45 8 Z" fill="url(#rainbow)" stroke="#FF1493" stroke-width="3"/>
      <circle cx="35" cy="15" r="2" fill="#FFD700" opacity="0.8">
        <animate attributeName="r" values="2;3;2" dur="1s" repeatCount="indefinite"/>
      </circle>
      <circle cx="85" cy="18" r="1.5" fill="#FFD700" opacity="0.8">
        <animate attributeName="r" values="1.5;2.5;1.5" dur="1.2s" repeatCount="indefinite"/>
      </circle>
    `;

    function savePetData() {
      localStorage.setItem('quabbleDuck', JSON.stringify(petData));
    }

    function updateDuckAppearance() {
      const duckSVG = document.getElementById('duckSVG');
      if (petData.level >= 7) {
        duckSVG.innerHTML = kingDuckSVG;
      } else if (petData.level >= 4) {
        duckSVG.innerHTML = teenDuckSVG;
      } else {
        duckSVG.innerHTML = babyDuckSVG;
      }
    }

    function updateDisplay() {
      document.getElementById('goldEggs').textContent = petData.goldEggs;
      document.getElementById('shopEggs').textContent = petData.goldEggs;
      document.getElementById('happiness').textContent = petData.happiness;
      document.getElementById('level').textContent = petData.level;
      document.getElementById('plants').textContent = petData.plants;
      document.getElementById('streak').textContent = petData.streak;
      
      // Update decorations
      if (petData.decor.bench) document.getElementById('benchDecor').classList.add('unlocked');
      if (petData.decor.fountain) document.getElementById('fountainDecor').classList.add('unlocked');
      
      updateDuckAppearance();
    }

    function feedPet() {
      petData.happiness = Math.min(100, petData.happiness + 10);
      petData.streak = petData.happiness === 100 ? petData.streak + 1 : 1;
      petData.goldEggs += 1;
      savePetData();
      updateDisplay();
      showParticle('üç≤');
    }

    function playWithPet() {
      petData.goldEggs += 3;
      if (petData.level < 10 && Math.random() < 0.3) {
        petData.level++;
        updateDuckAppearance();
      }
      savePetData();
      updateDisplay();
      showParticle('‚ö°');
    }

    function cleanPark() {
      petData.plants++;
      petData.goldEggs += 2;
      savePetData();
      updateDisplay();
      showParticle('üå±');
    }

    function petInteraction() {
      showParticle('üíñ');
      petData.happiness = Math.min(100, petData.happiness + 5);
      savePetData();
      updateDisplay();
    }

    function openShop() {
      const items = [
        { name: 'ü™ë Park Bench', cost: 10, id: 'bench' },
        { name: '‚õ≤ Fountain', cost: 15, id: 'fountain' }
      ];
      let shopHTML = 'üõí GOLD EGG SHOP\n\n';
      items.forEach(item => {
        const owned = petData.decor[item.id];
        const canAfford = petData.goldEggs >= item.cost;
        shopHTML += `${owned ? '‚úÖ' : (canAfford ? 'üí∞' : 'üîí')} ${item.name} - ${item.cost} eggs\n`;
        if (!owned && canAfford) shopHTML += `[TAP TO BUY]\n`;
      });
      alert(shopHTML);
    }

    function showParticle(emoji) {
      const particle = document.createElement('div');
      particle.textContent = emoji;
      particle.style.cssText = `
        position: fixed; font-size: 30px; pointer-events: none;
        left: 50%; top: 40%; transform: translate(-50%, -50%);
        animation: particleFloat 2s ease-out forwards; z-index: 1000;
      `;
      document.body.appendChild(particle);
      setTimeout(() => particle.remove(), 2000);
    }

    // Initialize
    updateDisplay();
  </script>
</body>
</html>
